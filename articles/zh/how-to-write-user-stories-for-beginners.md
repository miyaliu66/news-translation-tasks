```markdown 
--- 
title: "初学者如何编写用户故事：实践中的敏捷" 
date: 2025-01-09T15:27:07.410Z 
author: Ben 
authorURL: https://www.freecodecamp.org/news/author/justanothertechlead/ 
originalURL: https://www.freecodecamp.org/news/how-to-write-user-stories-for-beginners/ 
posteditor: "" 
proofreader: "" 
--- 
 
在本教程中，您将了解到软件开发敏捷方法中的一个重要部分：用户故事。 
 
<!-- more --> 
 
我将带您了解什么是用户故事，我所见过的创建用户故事时常见的陷阱，以及用于验证您的用户故事是否“好”的框架。 
 
### 我们将涵盖以下内容： 
 
-   [敏捷的起源][1] 
     
-   [什么是敏捷？][2] 
     
-   [什么是用户故事？][3] 
     
    -   [用户故事的结构][4] 
         
    -   [用户故事的示例][5] 
         
-   [如何制作好的用户故事][6] 
     
-   [创建用户故事的常见陷阱][7] 
     
    -   [关注技术层面][8] 
         
    -   [利益相关者的协作][9] 
         
    -   [模糊的用户故事][10] 
         
-   [如何开始用户故事][11] 
     
-   [结论][12] 
     
 
## 敏捷的起源 
 
您可能听说过敏捷开发和用户故事。但如果没有，让我们简单讲一下历史： 
 
用户故事是一个更大概念的一部分，称为敏捷方法。 
 
自2001年起，17位备受尊敬的软件工程师在犹他州一家滑雪胜地会面并创建了现在臭名昭著的[敏捷宣言][13]。 
 
如果Robert Martin、Martin Fowler和Kent Beck这些名字对您来说没有意义，请阅读完本文后去搜索他们。他们之间拥有丰富的知识，并为软件界提供了一种更灵活的项目交付方式，称为敏捷。 
 
## 什么是敏捷？ 
 
敏捷更像是一种思维方式，而不是一种规定的方法。虽然存在如Scrum和Kanban之类的规定方法，但敏捷是一种概念。 
 
敏捷促进协作、快速反馈以及经常向用户交付价值。 
 
敏捷思维鼓励在项目规划中的灵活性，这与当时非常僵化的瀑布项目规划形成鲜明对比，瀑布规划非常严格地规定了交付的内容和时间。 
 
敏捷方法提倡在开始时进行“足够的”研究以启动项目，然后在项目过程中学习、迭代和根据需求更改设计和交付物，直到最终代码交付。这种“在此过程中更改和学习”的方法称为“适应性计划”。 
 
敏捷倡导快速且频繁地交付有价值的东西，通常是以每两周“冲刺”结束时将代码交付到生产环境中。这一点再次与传统的瀑布规划形成鲜明对比，传统规划通常需要数月的开发时间，才能将任何用户可见的变化交付到生产环境中。 
 
敏捷另一个关键部分是非常重视利益相关者的密切和频繁合作。产品、质量保证、工程和销售在整个项目生命周期中对项目有重要的投入和持续反馈。 
 
现在您对敏捷有了一些了解，让我们深入探讨如何为用户验证价值。 
 
引入用户故事。 
 
![Photo by Mikhail Nilov: https://www.pexels.com/photo/a-hand-pointing-the-sticky-note-on-the-wall-6592358/](https://cdn.hashnode.com/res/hashnode/image/upload/v1733997119683/6002c66a-b11c-4607-a37f-36480a970099.jpeg) 
 
## 什么是用户故事？ 
 
用户故事是一种用简单英语将工程师与软件的最终目标联系起来的方式。 
 
它的设计目的是让非技术人员可以阅读并了解所交付的内容，并且工程师可以通过阅读它来认知价值以及如何验证交付的价值。 
 
### 用户故事的结构 
 
> 作为一个\[用户类型\]，当我\[执行动作\]时，\[预期结果\] 
 
最基本的就是这些。 
 
您将重点放在最终用户和您将交付的“价值”上。 
 
让我们深入了解各个输入： 
 
-   **用户类型**：没有一种适合所有的“用户”。您有“管理员用户”，您有“登录用户”，您有“具有X权限的用户”或“处于Y角色的用户”。这是关于谁在执行操作的具体说明。 
     
-   **执行动作**：用户在做什么？点击“登录”按钮？删除记录？提交表单？ 
     
-   **预期结果**：用户执行操作后会发生什么？如果他们使用正确的电子邮箱地址和密码点击了“登录”，他们应该被引导到哪里？如果他们使用不正确的电子邮箱地址和密码点击了“登录”，应该发生什么？ 
     
 
### 用户故事的示例 
 
让我们看看登录页面的用户故事示例。 
 
没有什么比示例更好的了。 
 
让我们设定场景。您有一个登录页面，其中包含一个电子邮箱地址的输入文本框和一个密码的输入文本框。您有一个提交按钮。仅此而已。 
 
从用户的角度来看，在此页面上可能发生的不同排列组合是什么？ 
``` 
 
如果我已经登录，我不想重新输入我的信息，只需将我重定向到登录后的主页。 
 
> 作为未登录用户，当我输入正确的电子邮件地址但错误的密码并点击登录时，会出现错误消息 
 
我是未登录的用户，我输入了错误的信息。我不应该被登录。 
 
> 作为未登录用户，当我输入错误的电子邮件地址和密码并点击登录时，会出现错误消息。 
 
再次说明，我不是登录用户。我输入了错误的信息，我不应该被登录。 
 
> 作为未登录用户，当我输入正确的电子邮件地址和密码并点击登录时，我被重定向到登录后的主页。 
 
这次，我尚未登录，我输入了正确的信息并点击登录。我登录到了系统中。 
 
你能看到这些都是如何关注用户的吗？ 
 
你可能会注意到上述的某些“预期行为”没有完全定义。我们稍后会在验收标准中解决这个问题。 
 
![图片来源于 cottonbro studio: https://www.pexels.com/photo/manager-considering-project-strategy-by-the-task-board-6804077/](https://cdn.hashnode.com/res/hashnode/image/upload/v1733997173211/1946f2a3-eee3-497e-960b-a6aeac9bd48d.jpeg) 
 
## 如何制作优秀的用户故事 
 
有一个很好的模型叫做 INVEST 模型，它非常简单地展示了如何判断你的用户故事是否优秀。 
 
**INVEST 模型**： 
 
-   **I**ndependent（独立的）：可以单独开发。 
     
-   **N**egotiable（可协商的）：开放讨论和变更。 
     
-   **V**aluable（有价值的）：为用户提供价值。 
     
-   **E**stimable（可估算的）：可以估算出所需工作量。 
     
-   **S**mall（小的）：适合在一个迭代周期内完成。 
     
-   **T**estable（可测试的）：有明确的验收标准。 
     
 
让我们将 INVEST 模型应用到以上的一个用户故事示例： 
 
> 作为未登录用户，当我输入正确的电子邮件地址和密码并点击登录时，我被重定向到登录后的主页。 
 
_(在这里我会做一些假设，因为这是一个理论上的代码库和理论上的项目)_ 
 
这个故事是**独立的**吗？我会说是的。它是一个小故事，只涉及到可能已经存在的少数几个组件。但如果项目的数据库还没有创建，那就会形成依赖关系。这就不再是独立的了。 
 
它是**可协商的**吗？再一次，是的。这个故事可以很容易地改为重定向到用户的个人页面而不是主页。 
 
这个故事肯定是**有价值的**。一旦实现，用户就可以登录。如果故事是： 
 
> 作为未登录用户，当我输入正确的电子邮件地址和密码并点击登录时，没有任何事情发生 
 
这就没有价值。用户得不到任何东西。 
 
这个故事是**可估算的**吗？再次，在这个虚构的场景中我们需要做一些假设，但我会希望这很容易估算。它是一个简洁的故事，涉及少数组件，在一个大家都熟悉的领域，并且有明确的验收标准。 
 
这个故事肯定是**小的**。需要做的事情没有太多模糊之处，只有一个用户路径，结果也很清晰。让我们看看一个过大的故事： 
 
> 作为未登录用户，登录页面应按预期工作。 
 
正如本文前面讨论的，登录页面有很多方式可以工作和应该工作。“应按预期工作”似乎涵盖了所有这些可能性。这个故事太大，不适合有效评估为一个故事，可能也太大，无法在一个迭代周期内完成。 
 
这个故事肯定是**可测试的**。有明确的用户操作并有明确的结果。这个用户故事可以通过单元测试、集成测试和手动测试来覆盖。 
 
看来我们已经创建了一个好的用户故事！ 
 
如果你使用我上面定义的结构，并且故事符合 INVEST 模型的标准，那它可能是一个好故事。 
 
## 创建用户故事的常见陷阱 
 
我看到过用户故事在过去出问题的情况，人们错过了一些用户故事的关键方面： 
 
### 专注于技术方面 
 
正如我上面的例子所示，用户故事是非技术性的。 
 
不应该提及服务名称、数据库名称或基于用户看不到的东西的验证。 
 
一旦你的故事不再能够被终端用户理解，你就走错了方向。 
 
专注于用户将要做什么，以及用户将会看到什么。 
 
让我们看看一个技术性很强的故事的例子： 
 
> 作为未登录用户，当我点击“忘记密码”链接并输入正确的电子邮件地址时，会在数据库表中记录一条信息，指出密码重置链接已发送。 
 
这个故事无法由用户验证，非技术用户可能不能理解它的意思。 
 
让我们修复它： 
 
> 作为未登录用户，当我点击“忘记密码”链接并输入正确的电子邮件地址时，会向提供的电子邮件地址发送一封带有密码重置链接的邮件 
 
非技术用户可以理解这一点，并且它将重点放在用户身上，而不是产品。 
 
### 与利益相关者的合作 
 
用户故事需要产品、BA、QA、工程师，最重要的是用户的输入。 
 
这是确保您正在交付用户想要的东西的方式。众人拾柴火焰高。 
 
例如，如果仅由一个工程团队来制定用户故事，可能会是这样的： 
 
> 作为一个已登录用户，当页面加载时，我会被重定向到登录后的主页。 
>  
> 作为一个未登录用户，当我输入正确的电子邮件地址但密码错误并点击登录时，会出现错误信息。 
>  
> 作为一个未登录用户，当我输入错误的电子邮件地址和密码并点击登录时，会出现错误信息。 
 
这很好。但现在让我们让 QA 参与进来，他们来自不同的视角，因为他们对软件有不同的经验： 
 
> 作为未登录用户，当我输入希伯来语的正确电子邮件地址和正确密码时，我被重定向到主页。 
>  
> 作为未登录用户，当我输入正确的电子邮件地址和密码并反复点击登录时，我被重定向到主页。 
 
很好。我们现在获得了一组更全面的用户故事，涵盖了更多情况。如果我们让产品团队参与会发生什么？ 
 
> 作为未登录用户，当页面加载时，我的密码管理器应该预加载我的用户名和密码，当我点击登录时，我被重定向到主页。 
 
产品团队了解用户。他们知道人们真正使用密码管理器。我们应该确保当用户实际上没有键入任何内容（因为文本是由密码管理器加载的）时，登录仍然正常工作。 
 
### 模糊的用户故事 
 
好的用户故事的想法是，无论专业水平如何，所有人都能理解它。 
 
如果你写的用户故事能让 10 个不同的人有 10 种不同的解释，那你就有点问题了。 
 
我在上面提到了我会谈到验收标准，现在是时候这样做了。 
 
让我们重新审视以下用户故事： 
 
> 作为一个未登录用户，当我输入错误的电子邮件地址和密码并点击登录时，会出现错误信息。 
 
这里面有些模糊之处。 
 
应该出现什么信息？当页面在无效登录尝试后重新加载时，用户名文本框应该重置为空，还是预填入之前输入的值？“错误的电子邮件地址”是什么意思？是指一个从未见过的电子邮件地址，还是一个当前无效的电子邮件地址（未支付订阅费，取消订阅等）？ 
 
正如你所见，细节很重要。 
 
这个用户故事是一个相当人为的简单例子，我已经发现了很多关于它的问题。 
 
让我们解决这个问题： 
 
> 作为一个未登录用户，当我输入系统未注册的电子邮件地址时，当我点击登录时，会出现一条错误信息。 
 
这消除了围绕用户操作的问题，但没有解决预期错误信息的问题。 
 
进入验收标准。 
 
在用户故事中，您需要有一套验收标准来定义用户故事的实现是否符合预期。 
 
比如： 
 
- 错误信息：“无效的电子邮件地址或密码” 
     
- 电子邮件地址和密码文本框在重新加载时重置为空 
     
- 用户无法访问需要登录的页面 
     
- 向用户显示“忘记密码”建议。 
     
 
验收标准说明了对实现的期望。 
 
## 如何开始用户故事 
 
从小处开始。 
 
在刚开始时，您可能无法完美地提炼和创建用户故事。 
 
创建用户故事既是一门艺术，也是一门科学。熟能生巧。 
 
用户故事的创建应该以小组形式进行。通常，这会采取“三个朋友”的方法，您将有一个工程师、一个产品人员和一个 QA 一起坐下并集思广益，您需要支持哪些不同的排列组合。 
 
一旦你交付了你的项目，回顾一下。回头看看你在用户故事中存在哪些差距。会有用户发现的漏洞，QA 和 UAT 发现的问题，这些要么是因用户故事中的差距，要么是因测试中的差距。不管是哪种情况，您都应该从中吸取教训，以备下次使用。 
 
## 结论 
 
敏捷是协作的。Scrum 是协作的。创建用户故事是协作的。记住这一点。 
 
您在创作用户故事时集思广益的专业领域的人越多，您就越有可能涵盖整个工作流集。 
 
用户是焦点。如果您在描述用户故事时使用了用户不理解的术语，请重新考虑用户故事。 
 
您一开始不会做到完美，但随着您做得越来越多，您的速度会越来越快，效率也会越来越高。我已经做了 10 多年了。因此可以告诉您，如今我的用户故事创作速度和质量与 10 年前相比，有天壤之别。 
 
查看我在我的网站 [Just Another Tech Lead][14] 上的博客文章，或者在 [这里][15] 注册我的每周电子邮件新闻通讯。 
 
[1]: #the-beginnings-of-agile 
[2]: #what-is-agile 
[3]: #what-is-a-user-story 
[4]: #structure-of-a-user-story 
[5]: #example-of-user-stories 
[6]: #how-to-make-good-user-stories 
[7]: #common-pitfalls-in-user-story-creation 
[8]: #focusing-on-the-technical-aspects 
[9]: #stakeholder-collaboration 
[10]: #vague-user-stories 
[11]: #how-to-begin-with-user-stories 
[12]: #conclusion 
[13]: https://agilemanifesto.org/ 
[14]: https://justanothertechlead.com 
[15]: https://just-another-tech-lead.kit.com/ca91094ee6 
 
 