```markdown 
--- 
title: "初学者如何编写用户故事：敏捷实践" 
date: 2025-01-09T15:37:42.469Z 
author: Ben 
authorURL: https://www.freecodecamp.org/news/author/justanothertechlead/ 
originalURL: https://www.freecodecamp.org/news/how-to-write-user-stories-for-beginners/ 
posteditor: "" 
proofreader: "" 
--- 
 
在本教程中，你将学习软件开发敏捷方法中的一个重要部分：用户故事。 
 
<!-- more --> 
 
我将带你了解什么是用户故事，创建用户故事时常见的陷阱，以及如何验证你的用户故事是否“良好”的框架。 
 
### 我们将涵盖以下内容： 
 
-   [敏捷的起源][1] 
     
-   [什么是敏捷？][2] 
     
-   [什么是用户故事？][3] 
     
    -   [用户故事的结构][4] 
         
    -   [用户故事示例][5] 
         
-   [如何制作良好的用户故事][6] 
     
-   [创建用户故事的常见陷阱][7] 
     
    -   [关注技术方面][8] 
         
    -   [利益相关者的协作][9] 
         
    -   [模糊的用户故事][10] 
         
-   [如何开始用户故事][11] 
     
-   [结论][12] 
     
 
## 敏捷的起源 
 
你可能听说过敏捷开发和用户故事。但如果没有，让我们简要回顾一下历史： 
 
用户故事是一个更大的概念的一部分，称为敏捷方法。 
 
敏捷方法自2001年以来就已存在，当时17位备受尊敬的软件工程师在犹他州的一个滑雪胜地聚集，并创建了如今广为人知的[敏捷宣言][13]。 
 
如果Robert Martin、Martin Fowler和Kent Beck这些名字对你来说没有意义，请在阅读完这篇文章后去了解一下。他们拥有丰富的知识，给软件世界带来了一个更灵活的项目交付方式，称为敏捷。 
 
## 什么是敏捷？ 
 
敏捷更像是一种思维方式，而不是一个规定的方法。虽然有规定的方法存在，比如Scrum和Kanban，但敏捷是一个概念。 
 
敏捷提倡协作、快速反馈，并经常向用户交付价值。 
 
敏捷的思维方式鼓励在项目规划中保持灵活性，这与当时非常固定的瀑布项目规划形成鲜明对比，后者非常严格地规定了交付什么以及何时交付。 
 
敏捷方法提倡在初期做“足够”的研究以启动项目，然后在整个项目过程中学习、迭代和更改设计和可交付成果，直到最终代码交付为止。这种“边变更边学习”的方法被称为“自适应规划”。 
 
敏捷提倡快速且频繁地交付有价值的东西，通常是每两周的“冲刺”结束时将代码交付到生产环境中。这与传统的瀑布规划截然不同，后者通常需要几个月的开发时间才能将任何用户可见的更改交付到生产环境中。 
 
敏捷的另一个关键部分是它强调利益相关者之间的密切而频繁的协作。产品、QA、工程和销售在整个项目生命周期中都投入大量的精力并提供持续的反馈。 
 
现在你对敏捷的工作方式有了一些了解，让我们深入探讨如何验证用户的价值。 
 
进入用户故事。 
 
![Mikhail Nilov 拍摄的照片：https://www.pexels.com/photo/a-hand-pointing-the-sticky-note-on-the-wall-6592358/](https://cdn.hashnode.com/res/hashnode/image/upload/v1733997119683/6002c66a-b11c-4607-a37f-36480a970099.jpeg) 
 
## 什么是用户故事？ 
 
用户故事是用简单的英语将工程师与软件的最终目标连接的一种方式。 
 
它的设计目的是让非技术人员可以阅读并了解正在交付的内容，同时让工程师看到该价值以及如何验证已交付该价值。 
 
### 用户故事的结构 
 
> 作为一个\[用户类型\]，当我\[执行操作\]时，\[预期结果\] 
 
这就是最基本的结构。 
 
你将重点放在最终用户和你将交付的“价值”上。 
 
让我们深入了解输入内容： 
 
-   **用户类型**：没有一种“用户”是通用的。你有“管理员用户”，你有“登录用户”，你有“具有权限X的用户”或“处于角色Y的用户”。这就是明确谁在执行操作。 
     
-   **执行操作**：用户在做什么？点击“登录”按钮？删除记录？提交表单？ 
     
-   **预期结果**：用户执行操作后，应该发生什么？如果他们使用正确的电子邮件地址和密码点击“登录”，应该被引导到哪里？如果他们使用错误的电子邮件地址和密码点击“登录”，应该发生什么？ 
 
### 用户故事示例 
 
让我们看看登录页面的用户故事示例。 
 
没有比示例更好的东西了。 
 
设想一下场景。你有一个登录页面，带有一个输入电子邮件地址的文本框和一个输入密码的文本框。你有一个提交按钮。就是这样。 
 
从用户的角度来看，这个页面上可能发生的不同情况是什么？ 
``` 
 
如果我已经登录，我不希望需要重新输入我的详细信息，只需重定向到已登录的主页。 
 
> 作为一个未登录用户，当我输入正确的电子邮箱地址但错误的密码并点击登录时，会出现错误信息。 
 
我是一个尚未登录的用户，我输入了错误的详细信息。我不应该被登录。 
 
> 作为一个未登录用户，当我输入错误的电子邮箱地址和密码并点击登录时，会出现错误信息。 
 
同样的，我不是一个已登录的用户。我输入了错误的详细信息，我不应该被登录。 
 
> 作为一个未登录用户，当我输入正确的电子邮箱地址和密码并点击登录时，我被重定向到已登录的主页。 
 
这一次，我未登录，输入了正确的详细信息并点击登录。我登录到系统。 
 
你能看到这些都是如何聚焦在用户上的吗？ 
 
你可能注意到，以上的一些“预期行为”没有完全定义。我们将在接受标准中稍后解决这个问题。 
 
![Photo by cottonbro studio: https://www.pexels.com/photo/manager-considering-project-strategy-by-the-task-board-6804077/](https://cdn.hashnode.com/res/hashnode/image/upload/v1733997173211/1946f2a3-eee3-497e-960b-a6aeac9bd48d.jpeg) 
 
## 如何制作良好的用户故事 
 
有一个很好的模型叫做 INVEST 模型，它非常简单地展示了如何判断你的用户故事是否良好。 
 
**INVEST 模型**： 
 
-   **I**ndependent（独立的）：可以单独开发。 
     
-   **N**egotiable（可协商的）：可以讨论和更改。 
     
-   **V**aluable（有价值的）：为用户提供价值。 
     
-   **E**stimable（可估算的）：可以对工作量进行估算。 
     
-   **S**mall（小型化的）：适于在一个冲刺内完成。 
     
-   **T**estable（可测试的）：具有明确的验收标准。 
     
 
让我们将这个 INVEST 模型应用到上面的一则用户故事例子中： 
 
> 作为一个未登录用户，当我输入正确的电子邮箱地址和密码并点击登录时，我被重定向到已登录的主页。 
 
_(这里我要做一些假设，因为这是一个理论上的代码库和项目)_ 
 
这个故事是否**独立**？我认为是的。它是一个涉及可能已经存在的几个组件的小故事。但是，如果该项目的数据库尚未创建，则会产生依赖关系。这样一来，就不再是独立的。 
 
它是**可协商的**吗？同样，是的。这个故事可以很容易地被更改为重定向到用户的个人资料页面而不是他们的主页。 
 
这个故事绝对是**有价值的**。一旦实现，用户可以登录。如果故事是： 
 
> 作为一个未登录用户，当我输入正确的电子邮件地址和密码并点击登录时，什么都没有发生 
 
这将没有价值。用户将从中得不到任何收益。 
 
这个故事是**可估算的**吗？在这个虚构的场景中，我们必须做一些假设，但我当然希望这能被轻松估算。它是一个简明的故事，涉及的组件很少，领域也很熟悉，并有明确的验收标准。 
 
这个故事肯定是**小型化的**。对于需要完成的事情几乎没有模糊性，只有一条用户路径和明确的结果。让我们来看一个太大的故事： 
 
> 作为一个未登录用户，登录页面应按预期工作。 
 
正如本文前面所讨论的，登录页面可以和应该工作在许多方式。“应按预期工作”似乎涵盖了所有这些可能性。这将太大而无法有效地作为一个故事进行估算，也可能太大而无法在一个冲刺中完成。 
 
这个故事绝对是**可测试的**。有清晰的用户操作可以采取，并且有明确的结果。这个用户故事可以通过单元测试、集成测试和手动测试进行覆盖。 
 
看起来我们创造了一个好的用户故事！ 
 
如果您使用我上面定义的结构，并且故事符合 INVEST 模型的标准，那么它可能是一个好的故事。 
 
## 创建用户故事时常见的陷阱 
 
我见过用户故事出错，因为人们忽略了用户故事的一些关键方面： 
 
### 专注于技术方面 
 
如我上面的例子所示，用户故事是非技术性的。 
 
不应提及服务名称、数据库名称或基于用户无法看到的内容进行验证。 
 
一旦您的故事不再能被最终用户理解，您就出错了。 
 
专注于用户将要做什么，以及用户将看到什么。 
 
让我们来看看一个以技术为重点的故事： 
 
> 作为一个未登录用户，当我点击忘记密码链接并输入正确的电子邮件地址时，数据库表中记录一条日志，表明密码重置链接已发送。 
 
此故事无法由用户验证，非技术用户可能不理解这意味着什么。 
 
让我们修复它： 
 
> 作为一个未登录用户，当我点击忘记密码链接并输入正确的电子邮件地址时，会向提供的电子邮件地址发送一封包含忘记密码重置链接的邮件。 
 
非技术用户可以理解这一点，并把关注点放在用户身上，而不是产品上。 
 
### 利益相关者的协作 
 
 
 
用户故事需要来自产品、业务分析、质量保证、工程师，最重要的是用户的输入。 
 
这样你才能确保提供用户所需要的东西。众人拾柴火焰高。 
 
比如，如果只是一个工程团队设计用户故事，可能会如下所述： 
 
> 作为一个已登录用户，当页面加载时，我被重定向到登录后的主页 
>  
> 作为一个未登录用户，当我输入正确的邮箱地址但错误的密码并点击登录时，会出现一条错误信息 
>  
> 作为一个未登录用户，当我输入错误的邮箱地址和密码并点击登录时，会出现一条错误信息。 
 
这很不错。但现在让我们让质量保证（QA）人员参与进来，他们的视角会有所不同，因为他们对软件有不同的经验： 
 
> 作为一个未登录用户，当我用希伯来语输入正确的邮箱地址和密码时，我被重定向到主页 
>  
> 作为一个未登录用户，当我输入正确的邮箱地址和密码并重复点击登录时，我被重定向到主页 
 
很好。我们现在得到了更全面的用户故事，涵盖了更多情况。但是如果我们再让产品团队参与进来，会发生什么？ 
 
> 作为一个未登录用户，当页面加载时，我的密码管理器应该预装用户名和密码，当我点击登录时，我被重定向到主页 
 
产品团队了解用户。他们知道人们确实使用密码管理器。我们应该确保当用户实际上没有键入任何内容（因为文本是由密码管理器加载的）时，登录仍然正常运行。 
 
### 模糊的用户故事 
 
好的用户故事的理念是每个人，无论其专业知识如何，都能理解它。 
 
如果你写的用户故事可以被10个人以10种不同的方式解读，那你就做错了。 
 
我之前提到过我将触及验收标准，现在是时候来讨论这个了。 
 
让我们重新审视以下用户故事： 
 
> 作为一个未登录用户，当我输入错误的邮箱地址和密码并点击登录时，会出现一条错误信息。 
 
其中存在模糊性。 
 
应该出现什么信息？当页面在无效登录尝试后重新加载时，用户名文本框是否应该重置为空，还是预先填入之前输入的值？“错误的邮箱地址”是什么意思？是从未见过的邮箱地址，还是目前无效的邮箱地址（未支付订阅费、取消订阅等）。 
 
所以如你所见，细节很重要。 
 
这个用户故事是一个相当人为构造的简单例子，我已经找出了很多关于它的问题。 
 
让我们解决这个问题： 
 
> 作为一个未登录用户，当我输入一个未在系统中注册的邮箱地址时，当我点击登录时，会出现一条错误信息 
 
这消除了围绕用户操作的问题，但并没有解决有关预期错误信息的问题。 
 
引入验收标准。 
 
在用户故事中，你需要有一组验收标准来定义用户故事的实现是否符合预期。 
 
类似于： 
 
-   错误信息：“无效的邮箱地址或密码” 
     
-   邮箱地址和密码文本框在重新加载时重置为空 
     
-   用户无法访问需要登录的页面 
     
-   向用户展示“忘记密码”的提示。 
     
 
验收标准说明了对实现的期望。 
 
## 如何开始用户故事 
 
从小处开始。 
 
一开始在完善和创建用户故事方面，你不会很完美。 
 
创建用户故事是一门艺术，也是科学。实践出真知。 
 
用户故事的创建应该是集体完成的。通常，这是通过“3个朋友”的方法来进行的，在这里你会有一位工程师、一位产品人员和一位QA一起坐下来头脑风暴不同的需要支持的排列组合。 
 
在你交付项目后，回顾过去。看看你的用户故事中存在哪些差距。用户会发现的错误、QA和UAT会发现的错误，这些要么是由于用户故事中的差距，要么是测试中的差距。无论哪种方式，你都应该从中吸取教训，为下次做好准备。 
 
## 结论 
 
敏捷是协作的。Scrum是协作的。创建用户故事是协作的。记住这一点。 
 
你所拥有的来自不同专业领域的人进行头脑风暴用户故事创建，你就越有可能涵盖完整的工作流。 
 
用户是重点。如果你曾经在用户故事中使用用户不理解的术语，请重新考虑用户故事。 
 
从开始你不太可能做到完美，但随着你做得越来越多，你会变得更快更有效。请相信一个从事这项工作超过10年的人。今天我的用户故事创建的速度和质量与10年前相比有天壤之别。 
 
查看我的博客文章在我的网站上，[Just Another Tech Lead][14]，或在[这里][15]注册我的每周电子邮件通讯。 
 
[1]: #the-beginnings-of-agile 
[2]: #what-is-agile 
[3]: #what-is-a-user-story 
[4]: #structure-of-a-user-story 
[5]: #example-of-user-stories 
[6]: #how-to-make-good-user-stories 
[7]: #common-pitfalls-in-user-story-creation 
[8]: #focusing-on-the-technical-aspects 
[9]: #stakeholder-collaboration 
[10]: #vague-user-stories 
[11]: #how-to-begin-with-user-stories 
[12]: #conclusion 
[13]: https://agilemanifesto.org/ 
[14]: https://justanothertechlead.com 
[15]: https://just-another-tech-lead.kit.com/ca91094ee6 
 
 