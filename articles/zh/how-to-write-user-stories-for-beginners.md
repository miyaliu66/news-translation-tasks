```markdown 
--- 
title: "如何编写用户故事入门：实践中的敏捷" 
date: 2025-01-10T13:38:49.203Z 
author: Ben 
authorURL: https://www.freecodecamp.org/news/author/justanothertechlead/ 
originalURL: https://www.freecodecamp.org/news/how-to-write-user-stories-for-beginners/ 
posteditor: "" 
proofreader: "" 
--- 
 
在本教程中，您将学习软件开发敏捷方法中一个重要的部分：用户故事。 
 
<!-- more --> 
 
我将带您了解什么是用户故事，创建用户故事时常见的问题，以及验证用户故事是否“良好”的框架。 
 
### 我们将涵盖以下内容： 
 
-   [敏捷的起源][1] 
     
-   [什么是敏捷？][2] 
     
-   [什么是用户故事？][3] 
     
    -   [用户故事的结构][4] 
         
    -   [用户故事的示例][5] 
         
-   [如何编写良好的用户故事][6] 
     
-   [用户故事创建中的常见问题][7] 
     
    -   [过于关注技术细节][8] 
         
    -   [利益相关者协作][9] 
         
    -   [模糊的用户故事][10] 
         
-   [如何开始用户故事][11] 
     
-   [结论][12] 
     
 
## 敏捷的起源 
 
您可能听说过敏捷开发和用户故事。但是如果还没听过，让我们进行一次简短的历史课程： 
 
用户故事是一个更大概念的一部分，称为敏捷方法。 
 
自2001年起，敏捷方法已经存在，当时17位备受尊敬的软件工程师在犹他州的一个滑雪胜地聚集，创建了现已臭名昭著的[敏捷宣言][13]。 
 
如果像Robert Martin、Martin Fowler和Kent Beck这样的名字对您没有意义，那么请在阅读完这篇文章后去搜索一下。他们拥有丰富的知识，并为软件世界提供了一种更流畅的项目交付方式，称为敏捷。 
 
## 什么是敏捷？ 
 
敏捷更是一种思维方式，而不是一种规定的方法。尽管存在诸如Scrum和Kanban的规定方法，但敏捷是一个概念。 
 
敏捷促进协作、快速反馈以及经常向用户交付价值。 
 
敏捷思维方式鼓励在项目规划中的灵活性，这与当时的竞争对手瀑布式项目规划形成鲜明对比，后者在交付内容和时间上非常严格。 
 
敏捷方法提倡在项目开始时进行“刚好够用”的研究，然后在整个项目过程中学习、迭代并根据需要更改设计和可交付内容，直至最终代码交付。这种“边走边改”的方法称为“自适应规划”。 
 
敏捷鼓励迅速、频繁地交付有价值的东西，通常是在每两周的“冲刺”结束时将代码交付到生产环境中。这再次与传统瀑布式规划形成鲜明对比，后者通常需要几个月的开发时间才能将任何用户可见的更改交付到生产环境中。 
 
敏捷的另一个关键部分是强调利益相关者紧密、频繁地合作。产品、质量保证、工程和销售在项目生命周期中都投入大量精力，并不断给予反馈。 
 
现在您对敏捷的运作方式有了一点了解，让我们深入探讨一下我们如何向用户验证价值。 
 
进入用户故事。 
 
![Mikhail Nilov的照片：https://www.pexels.com/photo/a-hand-pointing-the-sticky-note-on-the-wall-6592358/](https://cdn.hashnode.com/res/hashnode/image/upload/v1733997119683/6002c66a-b11c-4607-a37f-36480a970099.jpeg) 
 
## 什么是用户故事？ 
 
用户故事是一种简单的英语方式，以将工程师与软件的最终目标连接起来。 
 
它的设计目的是让非技术人员能够阅读并理解交付的内容，同时让工程师能够看到其中的价值以及如何验证您已交付该价值。 
 
### 用户故事的结构 
 
> 作为一个\[用户类型\]，当我\[执行动作\]时，\[预期结果\] 
 
在最基本情况下，就是这样。 
 
您重点关注最终用户以及您将交付的“价值”。 
 
让我们深入了解输入： 
 
-   **用户类型**：没有一种“用户”适合所有情况。您有“管理员用户”，有“已登录用户”，还有“具有权限X的用户”或“具有角色Y的用户”。这是确定谁在执行操作 
     
-   **执行动作**：用户在做什么？点击“登录”按钮？删除记录？提交表单？ 
     
-   **预期结果**：用户执行该动作后，应该发生什么？如果他们使用正确的邮箱地址和密码点击“登录”，他们应该被引导到哪里？如果他们使用不正确的邮箱地址和密码点击“登录”，应该发生什么？ 
     
 
### 用户故事的示例 
 
让我们看看登录页面的用户故事示例。 
 
没有什么比示例更好的了。 
 
让我们设定情境。您有一个登录页面，其中包含一个用于邮箱地址的输入文本框和一个用于密码的输入文本框，您有一个提交按钮。仅此而已。 
 
从用户的角度来看，这个页面上可以发生哪些不同的情况呢？ 
``` 
 
如果我已经登录，我不想再次输入我的详情，只需将我重定向到已登录的主页。 
 
> 作为一个未登录的用户，当我输入正确的电子邮件地址但密码错误并点击登录时，会出现一条错误信息 
 
我是一个尚未登录的用户，我输入了错误的详情。我不应该被登录。 
 
> 作为一个未登录的用户，当我输入错误的电子邮件地址和密码并点击登录时，会出现一条错误信息。 
 
再次说明。我不是一个已登录的用户。我输入了错误的详情，我不应该被登录。 
 
> 作为一个未登录的用户，当我输入正确的电子邮件地址和密码并点击登录时，我会被重定向到已登录的主页。 
 
这次，我没有登录，我输入了正确的详情并点击登录。我已登录到系统。 
 
你能看到这些都是针对用户的吗？ 
 
你可能注意到，上述某些“预期行为”并没有完全定义。我们将在验收标准中稍后解决这个问题。 
 
![Photo by cottonbro studio: https://www.pexels.com/photo/manager-considering-project-strategy-by-the-task-board-6804077/](https://cdn.hashnode.com/res/hashnode/image/upload/v1733997173211/1946f2a3-eee3-497e-960b-a6aeac9bd48d.jpeg) 
 
## 如何创建优秀的用户故事 
 
有一个很好的模型叫做 INVEST 模型，它非常简单地展示了如何知道你的用户故事是否优秀。 
 
**INVEST 模型**： 
 
-   **I**ndependent（独立的）：可以单独开发。 
     
-   **N**egotiable（可协商的）：可以进行讨论和更改。 
     
-   **V**aluable（有价值的）：为用户提供价值。 
     
-   **E**stimable（可估算的）：可以估算出工作量。 
     
-   **S**mall（小的）：适合在一个冲刺中完成。 
     
-   **T**estable（可测试的）：拥有明确的验收标准。 
     
 
让我们将这个 INVEST 模型应用到上面的一个用户故事示例中： 
 
> 作为一个未登录的用户，当我输入正确的电子邮件地址和密码并点击登录时，我会被重定向到已登录的主页。 
 
_(我将在这里做一些假设，因为这是一个理论代码库和理论项目)_ 
 
这个故事是**独立的**吗？我认为是的。它是一个小故事，只涉及几个可能已经存在的组件。如果数据库尚未为该项目创建，那将给我们带来依赖性。这将不再是独立的。 
 
它是**可协商的**吗？再一次，我会说是的。这个故事可以很容易地更改为重定向到用户的个人主页，而不是他们的主页。 
 
这个故事绝对是**有价值的。** 一旦实现，用户可以登录。如果故事是： 
 
> 作为一个未登录的用户，当我输入正确的电子邮件地址和密码并点击登录时，没有任何变化 
 
这将没有价值。用户将无法从中获益。 
 
这个故事是**可估算的**吗？在这个假设的场景中，我们必须做一些假设，但我当然希望这将很容易估算。这是一个简洁的故事，涉及少量组件，在一个每个人都熟悉的领域，且有明确的验收标准。 
 
这个故事肯定是**小的。** 在需要做什么方面几乎没有歧义，只有一个用户路径和明确的结果。让我们来看一个过于庞大的故事： 
 
> 作为一个未登录的用户，登录页面应该按预期工作。 
 
如本文前面所述，登录页面可以并且应该有许多工作方式。“应该按预期工作”似乎涵盖了所有这些可能性。作为一个故事，这个太大了，无法有效定位，而且可能太大了，无法在一个冲刺中完成。 
 
这个故事绝对是**可测试的。** 有明确的用户操作，并有明确的结果。这个用户故事可以通过单元测试、集成测试和手动测试来覆盖。 
 
看起来我们创建了一个很好的用户故事！ 
 
如果你使用我上面定义的结构，并且这个故事符合 INVEST 模型的标准，那它可能是一个好故事。 
 
## 用户故事创建中的常见问题 
 
我过去曾见过用户故事出了问题的地方，人们遗漏了一些用户故事的关键方面： 
 
### 专注于技术方面 
 
如上所示，我的示例展示了用户故事是非技术性的。 
 
不应提及服务名称、数据库名称或基于用户看不到的任何内容的验证。 
 
一旦您的故事不能被最终用户理解，就走错了方向。 
 
专注于用户将要做什么，以及用户将要看到什么。 
 
让我们看一个以技术为重点的故事的示例： 
 
> 作为一个未登录的用户，当我点击忘记密码链接并输入正确的电子邮件地址时，数据库表中会记录一条记录，说明密码重置链接已发送。 
 
这个故事不能由用户验证，非技术用户可能无法理解其含义。 
 
我们来修正它： 
 
> 作为一个未登录的用户，当我点击忘记密码链接并输入正确的电子邮件地址时，会向提供的电子邮件地址发送一封包含忘记密码重置链接的电子邮件 
 
非技术用户可以理解这点，并且它将重点放在用户身上，而不是产品。 
 
### 利益相关者合作 
 
用户故事需要来自产品、业务分析（BA）、质量保证（QA）、工程师，以及最重要的，用户的输入。 
 
这样你就能确保你正在交付用户想要的东西。众人拾柴火焰高。 
 
例如，如果仅仅是一个工程团队提出用户故事，可能会像这样： 
 
> 作为一个已登录用户，当页面加载时，我被重定向到已登录的主页   
>    
> 作为一个未登录用户，当我输入正确的电子邮件地址但错误的密码并点击登录时，出现一条错误信息   
>    
> 作为一个未登录用户，当我输入错误的电子邮件地址和密码并点击登录时，出现一条错误信息。 
 
这很好。但现在让 QA 参与进来，他们从不同的视角来，因为他们对软件有不同的经验： 
 
> 作为一个未登录用户，当我输入希伯来文的正确电子邮件地址和正确密码时，我被重定向到主页   
>    
> 作为一个未登录用户，当我输入正确的电子邮件地址和密码并反复点击登录时，我被重定向到主页 
 
很好。我们现在获得了一组更圆满的用户故事，涵盖更多的情况。但如果我们让产品团队参与进来会发生什么？ 
 
> 作为一个未登录用户，当页面加载时，我的密码管理器应该预先加载我的用户名和密码，当我点击登录时，我被重定向到主页 
 
产品团队了解用户。他们知道用户确实使用密码管理器。我们应确保当用户不实际键入任何内容时（因为文本由密码管理器加载），登录仍然正常工作。 
 
### 含糊的用户故事 
 
一个好的用户故事背后的想法是，任何人，无论其专业程度，都能理解它。 
 
如果你写的用户故事能被 10 个人以 10 种不同的方式理解，那你有点走偏了。 
 
我在上面提到过我会谈到验收标准，现在是时候做这件事了。 
 
让我们重新检查以下用户故事： 
 
> 作为一个未登录用户，当我输入错误的电子邮件地址和密码并点击登录时，出现一条错误信息。 
 
其中有含糊不清的地方。 
 
应该出现什么信息？在无效登录尝试后页面重新加载时，用户名文本框是否应该设置为空，还是预填入先前输入的值？“错误的电子邮件地址”是什么意思？是指一个以前从未见过的电子邮件地址，还是一个目前无效的电子邮件地址（未支付订阅、取消订阅等。）？ 
 
所以如你所见，细节很重要。 
 
这个用户故事是一个相当人为的简单例子，我已经找到了很多关于它的问题。 
 
让我们解决这个问题： 
 
> 作为一个未登录用户，当我输入未在系统中注册的电子邮件地址时，当我点击登录时，出现一条错误信息 
 
这消除了有关用户操作的问题，但尚未解决有关预期错误消息的问题。 
 
引入验收标准。 
 
在用户故事中，你需要有一套验收标准来定义用户故事的实施是否符合预期。 
 
例如： 
 
- 错误信息：“无效的电子邮件地址或密码” 
     
- 电子邮件地址和密码文本框在重新加载时重置为空 
     
- 用户无法访问需要登录的页面 
     
- 向用户提出“忘记密码”的建议。 
     
 
验收标准声明了对实现的期望。 
 
## 如何开始用户故事 
 
从小处开始。 
 
一开始你在提炼和创建用户故事时不会完美。 
 
创建用户故事既是一门艺术，也是一门科学。熟能生巧。 
 
用户故事的创建应该作为一个小组来完成。通常，这通过“3 个好友”方法来完成，在这个方法中，你会有一个工程师、一个产品人员和一个 QA 坐在一起，集思广益你需要支持的不同排列方案。 
 
一旦你交付了你的项目，就要进行回顾。回顾一下你在用户故事中有哪些遗漏。会有用户发现的 bug，还有 QA 和用户验收测试（UAT）发现的问题，这些要么是由于用户故事中的不足，要么是测试中的漏洞。无论哪种情况，你都应该从中学习以便下次改进。 
 
## 结论 
 
敏捷是协作的。Scrum 是协作的。创建用户故事是协作的。记住这一点。 
 
来自不同专业领域的人越多集思广益创建用户故事，你就越有可能涵盖完整的工作流程集。 
 
用户是重点。如果你使用了用户不理解的术语，请重新考虑用户故事。 
 
你不会从一开始就做到完美，但随着你做得越来越多，你变得更快、更高效。以一个有超过 10 年经验的人为例。我今天创建用户故事的速度和质量与 10 年前相比相差甚远。 
 
查看我在我的网站 [Just Another Tech Lead][14] 上的博客文章，或在 [这里][15] 注册我的每周电子邮件通讯。 
 
 