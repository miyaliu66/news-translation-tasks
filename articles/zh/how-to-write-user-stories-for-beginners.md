```markdown 
--- 
title: "初学者用户故事编写指南：实践中的敏捷开发" 
date: 2025-01-10T07:28:14.125Z 
author: Ben 
authorURL: https://www.freecodecamp.org/news/author/justanothertechlead/ 
originalURL: https://www.freecodecamp.org/news/how-to-write-user-stories-for-beginners/ 
posteditor: "" 
proofreader: "" 
--- 
 
在本教程中，您将了解软件开发中敏捷方法的重要组成部分：用户故事。 
 
<!-- more --> 
 
我将带您了解什么是用户故事，创建用户故事时常见的陷阱，以及现有框架如何验证您的用户故事是否“优秀”。 
 
### 我们将介绍以下内容： 
 
-   [敏捷的起源][1] 
 
-   [什么是敏捷？][2] 
 
-   [什么是用户故事？][3] 
 
    -   [用户故事的结构][4] 
         
    -   [用户故事示例][5] 
         
-   [如何编写优秀的用户故事][6] 
 
-   [用户故事创建中的常见陷阱][7] 
 
    -   [专注于技术方面][8] 
         
    -   [利益相关者的合作][9] 
         
    -   [模糊的用户故事][10] 
         
-   [如何开始创建用户故事][11] 
 
-   [结论][12] 
     
 
## 敏捷的起源 
 
您可能听说过敏捷开发和用户故事。但如果您没有，让我们来回顾一下历史： 
 
用户故事是一个更大的概念（称为敏捷方法）的组成部分。 
 
敏捷方法自2001年起就存在，那时17位备受尊敬的软件工程师在犹他州的一个滑雪胜地聚集，并创建了现已广为人知的[敏捷宣言][13]。 
 
如果Robert Martin、Martin Fowler和Kent Beck这些名字对您来说没有意义，本文结束后请查找他们。他们拥有丰富的知识，并为软件开发领域提供了一种更灵活的项目交付方式，即敏捷。 
 
## 什么是敏捷？ 
 
敏捷更像是一种思维方式，而不是规定的方法。尽管存在规定的方法，如Scrum和Kanban，但敏捷本身是一个概念。 
 
敏捷倡导协作、快速反馈，并经常为用户提供价值。 
 
敏捷的思维方式鼓励项目计划中的灵活性，这与当时的竞争对手——瀑布项目规划的僵化形成鲜明对比，后者对交付的内容和时间要求非常严格。 
 
敏捷方法提倡在项目开始时进行“刚刚够用”的研究，然后在整个项目中学习、迭代和根据需要更改设计和交付物，直至最终代码交付。这种“边改边学”的方法被称为“适应性规划”。 
 
敏捷强调快速且频繁地提供有价值的东西，通常形式是在每两周的“冲刺”结束时向生产环境交付代码。这与传统的瀑布规划大相径庭，后者通常需要几个月的开发时间才能交付可见的用户变化到生产环境。 
 
敏捷的另一个关键部分是其强调利益相关者之间的密切和频繁合作。产品、QA、工程和销售在整个项目生命周期中都对项目有很大影响并提供持续反馈。 
 
现在您对敏捷的工作方式有了更多了解，让我们深入探讨如何验证对用户的价值。 
 
引入用户故事。 
 
![照片来自Mikhail Nilov: https://www.pexels.com/photo/a-hand-pointing-the-sticky-note-on-the-wall-6592358/](https://cdn.hashnode.com/res/hashnode/image/upload/v1733997119683/6002c66a-b11c-4607-a37f-36480a970099.jpeg) 
 
## 什么是用户故事？ 
 
用户故事是一种用简单英语将工程师与软件最终目标连接起来的方式。 
 
它的设计目的是让非技术人员能够阅读并理解正在交付的内容，同时工程师可以查看它，看到价值并了解如何验证您已交付该价值。 
 
### 用户故事的结构 
 
> 作为一个 \[用户类型\]，当我 \[执行操作\] 时，\[预期结果\] 
 
这是其最基本的形式。 
 
您把重点放在最终用户和您将交付的“价值”上。 
 
让我们仔细研究这些输入： 
 
-   **用户类型**：没有一种通用的“用户”。您有“管理员用户”、“已登录用户”、“拥有权限X的用户”或“角色为Y的用户”。这是在具体说明谁在执行操作 
 
-   **执行操作**：用户在做什么？点击“登录”按钮？删除记录？提交表单？ 
 
-   **预期结果**：一旦您的用户执行了操作，应该发生什么？如果他们用正确的电子邮箱地址和密码点击“登录”，他们应该被引导到哪里？如果他们用错误的电子邮箱地址和密码点击“登录”，应该发生什么？ 
     
 
### 用户故事示例 
 
让我们来看一个登录页面的用户故事示例。 
 
没有什么比例子更好。 
 
让我们设置场景。您有一个登录页面，页面上有一个用于输入电子邮件地址的文本框和一个用于输入密码的文本框。您有一个提交按钮。仅此而已。 
 
从用户的角度看，在这个页面上可能发生的不同情况有哪些？ 
``` 
 
如果我已经登录，我不希望必须重新输入我的详细信息，只需将我重定向到已登录的首页。 
 
> 作为一个未登录用户，当我输入正确的电子邮箱地址但密码不正确时并单击登录，会出现一条错误消息。 
 
我是一个尚未登录的用户，我输入了错误的详细信息。我不应该被登录。 
 
> 作为一个未登录用户，当我输入错误的电子邮箱地址和密码并单击登录时，会出现一条错误消息。 
 
再次重申，我不是已登录用户。我输入了错误的详细信息，我不应该被登录。 
 
> 作为一个未登录用户，当我输入正确的电子邮箱地址和密码并单击登录时，我会被重定向到已登录的首页。 
 
这次，我尚未登录，我输入正确的详细信息并单击登录。我被登录进了系统。 
 
您能看出这些都是如何关注用户的吗？ 
 
您可能注意到，上述某些“预期行为”并未完全定义。我们将在验收标准中稍后解决这一问题。 
 
![由 cottonbro studio 拍摄的照片：https://www.pexels.com/photo/manager-considering-project-strategy-by-the-task-board-6804077/](https://cdn.hashnode.com/res/hashnode/image/upload/v1733997173211/1946f2a3-eee3-497e-960b-a6aeac9bd48d.jpeg) 
 
## 如何编写优秀的用户故事 
 
有一个很好的模型叫做 INVEST 模型，它非常简单地展示了如何知道您的用户故事是否优秀。 
 
**INVEST 模型**： 
 
-   **独立性 (I)**: 可以单独开发。 
     
-   **可谈判性 (N)**: 可以讨论和更改。 
     
-   **有价值 (V)**: 为用户带来价值。 
     
-   **可估算 (E)**: 可估算工作量。 
     
-   **小型性 (S)**: 适合在一个冲刺周期内完成。 
     
-   **可测试性 (T)**: 具有明确的验收标准。 
     
 
让我们将这个 INVEST 模型应用到上面例子中的一个用户故事： 
 
> 作为一个未登录用户，当我输入正确的电子邮箱地址和密码并单击登录时，我会被重定向到已登录的首页。 
 
（我要在这里做一些假设，因为这是一个理论上的代码库和理论项目） 
 
这个故事是**独立**的吗？我认为是的。这是一个小故事，只涉及几个可能已经存在的组件。如果项目的数据库尚未创建，那将使其存在依赖关系。这将不再是独立的。 
 
它是**可谈判**的吗？再次，是的。这个故事可以很容易地更改为重定向到用户的个人资料页面而不是他们的首页。 
 
这个故事绝对是**有价值的**。一旦实施，用户可以登录。如果故事是： 
 
> 作为一个未登录用户，当我输入正确的电子邮箱地址和密码并单击登录时，什么也没有发生 
 
这将没有价值。用户将从中得不到任何东西。 
 
这个故事是**可估算**的吗？再次，我们必须在这个假设的场景中进行一些假设，但我当然希望这将是易于估算的。这是一个简洁的故事，涉及的组件很少，属于每个人都熟悉的领域，并有明确的验收标准。 
 
这个故事肯定是**小型的**。几乎没有关于需要做什么的歧义，只有一个用户路径和明确的结果。让我们来看一个过大的故事： 
 
> 作为一个未登录用户，登录页面应该按预期工作。 
 
如本文前面所讨论的，登录页面可以和应该有很多工作方式。“应该按预期工作”似乎涵盖了所有这些变体。这对于有效地确定故事大小过于庞大，可能也太大无法在一次冲刺中完成。 
 
这个故事无疑是**可测试的**。有明确的用户行动步骤和明确的结果。该用户故事可以通过单元测试、集成测试和手动测试来覆盖。 
 
看起来我们已经创建了一个好的用户故事！ 
 
如果您使用我上面定义的结构，并且该故事符合 INVEST 模型的标准，那很可能就是一个好的故事。 
 
## 用户故事创建中的常见陷阱 
 
我曾见过过去的人在编写用户故事时错过了一些关键方面，导致用户故事出现问题： 
 
### 关注于技术方面 
 
正如我的例子所示，用户故事是非技术性的。 
 
不应提及服务名称、数据库名称或基于用户看不到的任何内容的验证。 
 
一旦您的故事无法被最终用户理解，您就出错了。 
 
关注用户将要做什么以及用户将要看到什么。 
 
让我们来看一个以技术为中心的故事： 
 
> 作为一个未登录用户，当我用正确的电子邮箱地址点击忘记密码链接时，会在数据库表中记录一条记录，表明已发送密码重置链接。 
 
这个故事无法被用户验证，非技术用户可能不明白这是什么意思。 
 
让我们修正它： 
 
> 作为一个未登录用户，当我用正确的电子邮箱地址点击忘记密码链接时，会向提供的那个电子邮箱地址发送一封包含重置密码链接的电子邮件。 
 
非技术用户可以理解这个，并且它把重点放在了用户身上，而不是产品上。 
 
### 利益相关者的协作 
 
 
 
用户故事需要来自产品、业务分析、质量保证、工程师，最重要的是用户的输入。 
 
这就是你如何确保交付用户想要的东西。众人拾柴火焰高。 
 
例如，如果只由工程团队编写用户故事，它们可能看起来像这样： 
 
> 作为一个已登录用户，当页面加载时，我被重定向到已登录的主页   
>    
> 作为一个未登录用户，当我输入正确的电子邮件地址但密码错误并点击登录时，会出现错误消息   
>    
> 作为一个未登录用户，当我输入错误的电子邮件地址和密码并点击登录时，会出现错误消息。 
 
这很好，但是现在让我们让质量保证人员参与进来，他们有不同的软件使用经验，因此视角不同： 
 
> 作为一个未登录用户，当我用希伯来语输入正确的电子邮件地址和密码时，我被重定向到主页   
>    
> 作为一个未登录用户，当我输入正确的电子邮件地址和密码并反复点击登录时，我被重定向到主页 
 
很棒。现在我们得到了一组更全面的用户故事，涵盖了更多情况。但是如果让产品团队参与进来，会发生什么呢？ 
 
> 作为一个未登录用户，当页面加载时，我的密码管理器应该预加载我的用户名和密码，当我点击登录时，我被重定向到主页 
 
产品团队了解用户。他们知道人们确实使用密码管理器。我们应该确保当用户没有实际输入任何内容时（因为文本由密码管理器加载），登录仍然可以正常工作。 
 
### 模糊的用户故事 
 
好的用户故事背后的理念是让所有人，不论其专业背景如何，都能理解。 
 
如果你写的用户故事能让十个人有十种不同的理解，那你就有点问题了。 
 
我在上面提到过我会说到验收标准，现在就是时候来讨论这一点了。 
 
让我们重新审视以下用户故事： 
 
> 作为一个未登录用户，当我输入错误的电子邮件地址和密码并点击登录时，会出现错误消息。 
 
这里存在模糊性。 
 
应该出现什么消息？在无效的登录尝试后页面重新加载时，用户名文本框是应该设置为空，还是预填入先前输入的值？“错误的电子邮件地址”是什么意思？是指从未出现过的电子邮件地址，还是目前无效的电子邮件地址（未支付订阅费、取消订阅等）？ 
 
所以你可以看到，细节很重要。 
 
这个用户故事是一个相当人为的简单例子，但我已能找出许多问题。 
 
让我们来解决这个问题： 
 
> 作为一个未登录用户，当我输入一个未在系统中注册的电子邮件地址并点击登录时，会出现错误消息 
 
这消除了围绕用户操作的疑问，但没有解决关于预期错误消息的问题。 
 
引入验收标准。 
 
在用户故事中，你需要有一组验收标准来定义用户故事的实现是否符合预期。 
 
例如： 
 
- 错误信息：“无效的电子邮件地址或密码” 
     
- 页面重新加载时电子邮件地址和密码文本框重置为空 
     
- 用户无法访问需要登录的页面 
     
- 向用户提供“忘记密码”的建议。 
     
 
验收标准说明了对实现的期望。 
 
## 如何开始编写用户故事 
 
从小处着手。 
 
在一开始，你可能不会在精炼和创建用户故事上做到完美。 
 
创建用户故事是一门艺术，也是一门科学。熟能生巧。 
 
用户故事的创建应该由团队协作完成。通常，这是通过“三个朋友”的方法来进行的，即由一名工程师、一名产品人员和一名质量保证人员一起坐下，头脑风暴你需要支持的不同方案。 
 
项目交付后，进行回顾。回顾一下，看看用户故事中存在哪些遗漏。用户会发现的错误，质量保证和用户验收测试也会发现，这些问题要么是由于用户故事中的遗漏，要么是你的测试中的遗漏。无论哪种方式，你都应该从中吸取教训以便下次改进。 
 
## 结论 
 
敏捷是协作的。Scrum 是协作的。创建用户故事是协作的。记住这一点。 
 
来自不同领域的越多的人员参与用户故事的创建，就越有可能覆盖完整的工作流集。 
 
用户是核心。如果你曾经使用用户不理解的术语，就重新考虑用户故事。 
 
一开始你不可能做到完美，但随着你不断做下去，你会变得更快更有效。相信我这个做了 10 多年的人。今天我创建用户故事的速度和质量，与10年前相比，简直是天壤之别。 
 
查看我在网站 [Just Another Tech Lead][14] 上的博客文章，或者在 [此处][15] 注册我的每周电子邮件新闻通讯。 
 
[1]: #the-beginnings-of-agile 
[2]: #what-is-agile 
[3]: #what-is-a-user-story 
[4]: #structure-of-a-user-story 
[5]: #example-of-user-stories 
[6]: #how-to-make-good-user-stories 
[7]: #common-pitfalls-in-user-story-creation 
[8]: #focusing-on-the-technical-aspects 
[9]: #stakeholder-collaboration 
[10]: #vague-user-stories 
[11]: #how-to-begin-with-user-stories 
[12]: #conclusion 
[13]: https://agilemanifesto.org/ 
[14]: https://justanothertechlead.com 
[15]: https://just-another-tech-lead.kit.com/ca91094ee6 
 
 